"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="03365145-d318-55a6-a619-1d122adbad2a")}catch(e){}}();
(self.webpackChunkaltair=self.webpackChunkaltair||[]).push([[82],{28082:(f,m,i)=>{i.r(m),i.d(m,{DocUtils:()=>p});var _=i(35121),o=i(13986),l=i(67531),u=i(92080),g=i(13488);class p{constructor(e){this.searchIndex=[],e&&this.updateSchema(e)}updateSchema(e){this.schema=(0,l.I)(e)}generateSearchIndex(){if(!this.schema)return[];let e=[];(0,u.A)(this.schema).forEach(s=>{e=[...e,...this.getTypeIndices(s,!0,e)]});const r=this.schema.getTypeMap();return Object.keys(r).forEach(s=>{/^__/.test(s)||(e=[...e,...this.getTypeIndices(r[s],!1,e)])}),this.searchIndex=e,e}getFieldsIndices(e,n,r,s){let t=[];return Object.entries(e).forEach(([h,a])=>{const d={search:a.name,name:a.name,description:a.description?a.description:"",args:a.args?.map(c=>({name:c.name,description:c.description??""})),cat:"field",type:n.name,isQuery:r,highlight:"field"};t=[...t,d],a.args&&a.args.length&&a.args.forEach(c=>{t=[...t,{...d,search:c.name,highlight:"argument"}]}),a.type&&(t=[...t,...this.getTypeIndices(a.type,!1,[...s,...t]).filter(c=>!!c)])}),t}getTypeIndices(e,n,r){let s;if(!e.name)return[];if(r.some(h=>h.name===e.name&&"type"===h.cat))return[];e.getFields&&(s=e.getFields());const t=[{search:e.name,name:e.name,cat:"type",description:e.description?e.description:"",isRoot:n,highlight:"type"}];return s?[...t,...this.getFieldsIndices(s,e,n,[...r,...t]).filter(h=>!!h)]:t}searchDocs(e){return this.searchIndex.length?new o.A(this.searchIndex,{keys:["search"],threshold:.4}).search(e).map(r=>r.item):[]}generateQueryV2(e,n,r){var s=this;return(0,_.A)(function*(){if(!s.schema)return;const t=yield(0,g.YK)(s.schema,e,n,{maxDepth:r.addQueryDepthLimit,tabSize:r.tabSize});return{query:t.generated,meta:t.metas.find(h=>h.hasArgs)||{}}})()}cleanName(e){return e.replace(/[[\]!]/g,"")}}}}]);
//# sourceMappingURL=82.js.map
//# debugId=03365145-d318-55a6-a619-1d122adbad2a
